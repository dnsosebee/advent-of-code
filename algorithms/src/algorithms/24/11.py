data = """...#........................................#........#.................#............#.#.......................#...............#..#
...#........#.....#..................................................................................#......#..#..................
.................#.......................#.#........#......#...........................................#...#..........#...........
..................#..................#...#.....................................#........#.........................................
...#.....#.......#..............#.#....##.............#....##......................................#...................#..........
...#..........................................................................................................................#...
..#..#.............#.....#...............#.......#..............................................#....#............................
......................#..#...............#...................#....#..........................#...#............#...#....##.........
..#.#.........#................#............#............#.#.......#................#....#..#.....................................
.......................................................................#.....................................#...........#........
...........#.....................................................................#.................................#......#.......
...#.........#....................................................#..............#.............#..........#.......................
.................................................................................................#................................
..................................#.#.#...#.......#.............#.......................#..#.......................#.#............
.......................#.........................................#..........#...#.....#....................................#......
.......#.......#.#...........#......................#.....#..#...#.#...............#.............................#...#............
............##...#......#.........#......#............................................................#.........#..............#..
..#........................................#........##..#...............................................................#.........
...........#..............##................................................................................#.....................
..#................................................................................#..............#...............................
...................................##..............#..........................#.......#..#...............#........#...............
....#............#.........................#................................................................#........#............
............#.....................................................................#.............................................#.
............#..........#.......#...........#.#......#..............#.........#.......................................#......#.....
..#...............................................#..................................#.............................#.............#
.........................................................................#........#................#......#.......#....#........#.
.......................................................................#.....##.................................................#.
..............#.............#...........................#...#..#....................................................#.............
.......#..........................#.......................###..................................#.....................#..#.........
................#.................#.............#......................................................................#........#.
.#.....#................#......................................................................#................#.................
................................#........................#........#..#........................#...................................
..............................................................................................#.....................#.........#...
..................#.................#.........................#.....#................#............................................
......#...................#...#...................#..................#...........................#......###...................#...
.............................##.....#..............#..............................................................#....#..........
......#..................#....................................................###....................#..............#.............
............#...#..................#........#.............#..............................#.........#..........................#...
....#...............................#......#......#...............#.#......#............#...................................#.....
.......#...................................#.#.#.........................................................#..................#.....
.....................#.......#.#......#.#.....................#...................................................................
......#.....#............................................................................#............#.......#..#................
..........#.#......#...................................#....#.#............##.....................................................
...............#........................#..................................#...........#...................................#......
.#....................................................#.......................................................................#...
......#.........................................#...#.........................................#........#..........................
.........................................#..........#.............................................................................
...................#.....................................#.....................#..#............#....#........................##...
.................................#.........#.............#.............................#...........................#...#..........
..#................................................................#.....#....#.................................#.................
........#................#............#.#..........................................#..............................................
..#...........##.....................#..#..........................#...#...#....#.................................................
................................................................................#.................................................
............#...........#.........#....#.........................................................................#................
.............................#...........................................#...............##...................................#...
......................#..............#...#........................#........................................#......................
............#..............#...#.....#.....#..........#...........................#........#...............#......................
..................#............................#....#................................................................#............
..#........................#.............................#......#...............#....#...........#................................
.................................................#................................................#..................#........#...
.#......#.........................................................#...........#...#.......................#.......................
..........................................#.......##........#................................................#..##............##..
..............#...#....................................................................#........#...........................#.....
................#....................................................................#........................................###.
....#............................................#........................#.................#........#.....#...#.....#.#....#.....
...##..........#..................................................................................................................
#....#.........#....................#.#.........................#..........##.......#....#..#....................#................
........#.........#..........#.................#..................#................................#.......#................#...#.
.#..........................................#..#..#......#................................#.#.#..#................................
....#.......#.........#............................................................#....#.........................................
.....................................................................#...#......................#.................................
............#.....#.....#..........#...............................................................................#..............
.........................#...#.#.......#....................................................................#.................#...
......................................................#.#..........................#...#................#.........................
.....#.........#.........#..............................................................#...................#.#......#............
.......................................#......#.......................#.................................................#.....#...
.....#....#.......................................................................................................................
#..........#....#....................................#.............#...............#...................#..........#...............
..#....................................##.....................................#...............................#...................
....#..................................#........................#.................................................................
....#................................................................................................#...................#........
....#................................................................................#............................................
..........#.....#...................#.......................#......#..............................................................
#...................#..........#............................................................#............#..............#.........
...#...#....#................................#............................#.##.....................................#..............
..........#.........#.....#...........#............................#...............#.#....#................#....................##
.....#...................................................#........................................................................
............##....................................#..................#.#..#.....................#.........#....##......#...#......
...........#.......#....................#.......................#..#.................#.......#.........#..........................
#.....................#..#..............................................................................................#.........
....#....#..............#............##....................................................^.................#..............#.....
.........#......................................................#..............#............#...#......#....#.....................
.......##...................#...........#.........#.......................................#..........................#............
.#........#.#........................#...........#............#..#........#........#.............#................................
..................##........##.................................................................................#................#.
...#...................#.....#...........#.........#..#............#..................................#.....#.....................
.................#.........#..........#............#......#.........................#.............#.......#......................#
.................................................................#...............#.....#.#....#...................................
..........................#...........................................................................................#..#........
..............#.................................................................................##......................#.........
....#...#....................#...............................................#................#............#......................
........................................................................#........#................................................
....#.....#......................#.......#............#......................................#..................................#.
................#................................#.#.............#.#.........#..............................................#.....
..............#..................#...#...........................................................................#................
...#..........#....................................................#...............................#...........#.......#..........
...................................#....................#..#.#........#..#.......................#...#.....#......................
.......#.....#.#.......#....#............#...............#..........#.................#........#.#................................
.....#....#.........#........#.......#............................................................................................
..#........#......#............................................................#..........#...............................#.......
..#..#...................................#....................#...#.#................#......................#.....................
....................................#......#.....................#...........#.....................#........#.....................
.#..................#.........................................................................................................#...
..............#...........#.#....#..#......#..#.#...#.#.........................................................................#.
...#............##.......................................................#.......................#..#.............................
......#........#..........#..#.#........#.....................#...................................................................
...#...........#.........................................#............#.............#....#.....................................#..
...........#.....................#......................................................................................#.........
.......#..............#...............#............#..........................#............................#........##............
.............#..........#..............................................#................#..............................#..........
...............#..............................#.................#.....#................#....#.....................................
............#.................#..........#........#............#..#......#.......................#....#...#.#...#.#...............
.......#.#...................................##..............#.....#.....................#.................................##.....
..#..#...#...#....#.............#..#.....................................................................................#........
......#......................#...#...#..........#......................................#.................#....#.................#.
.......#...........#...........#...................#..............................#.......................................#.......
......#.......................................#...............................................#.........#........#....#.........##
......#.................................................................#...#............#..........#.............................
.....................................#..........#.........#.....#.............#...........#.......................................
.#.....................................#......................#.....#..#.........................................................."""


lines = data.splitlines()
for i in range(len(lines)):
  for j in range(len(lines[i])):
    if lines[i][j] == "^":
      pos = [i,j]

ps = [pos]
c = 1
ds = [[-1,0],[0,1],[1,0],[0,-1]]
d = 0

def move(pos, dir):
  di = ds[dir]
  return [pos[0] + di[0], pos[1] + di[1]]

def get(pos):
  return lines[pos[0]][pos[1]]

def in_bound(pos):
  return 0 <= pos[0] < len(lines) and 0 <= pos[1] < len(lines[0])

while True:
  fwd = move(pos, d)
  if in_bound(fwd):
    if get(fwd) == "#":
      d = (d + 1) % 4
    else:
      pos = fwd
      if pos not in ps:
        ps.append(pos)
        c += 1
  else:
    break

print(c)